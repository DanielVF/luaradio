local radio = require('radio')
local jigs = require('tests.jigs')

jigs.TestBlock(radio.ComplexPhaseBlock, {
    {
        desc = "256 ComplexFloat32 input, 256 Float32 output",
        args = {},
        inputs = {radio.ComplexFloat32Type.vector_from_array({{0.73931473, 0.64899641}, {0.32253107, 0.65948904}, {-0.54967815, -0.39804888}, {-0.15527947, -0.34921572}, {0.00004823, 0.80905098}, {-0.54994583, 0.70295334}, {0.14401069, -0.31104612}, {-0.70533037, -0.46929735}, {0.01574130, -0.02287286}, {0.99630815, 0.77145141}, {0.16667317, -0.42870927}, {0.69994342, 0.59674793}, {0.92369223, 0.28034848}, {0.85841936, -0.17100883}, {0.21035062, 0.24628592}, {-0.69374615, 0.03109895}, {0.69065011, 0.14416623}, {0.38827389, -0.68296301}, {-0.07604436, -0.16260368}, {-0.11720567, 0.99173641}, {-0.45962715, 0.92377090}, {0.02738926, -0.91934222}, {-0.29467726, -0.80237383}, {-0.30299202, -0.91588241}, {0.13866909, 0.28667289}, {0.50678426, 0.52645051}, {0.59851229, 0.33123708}, {-0.96232617, 0.62813312}, {0.08521940, -0.08916329}, {0.29469731, -0.46071175}, {-0.80665773, 0.92440617}, {0.18389916, 0.11894410}, {-0.51901168, -0.56323040}, {-0.08042659, -0.06319183}, {-0.33009562, -0.89181650}, {-0.13642931, 0.94440877}, {-0.79586387, -0.36800501}, {0.76789737, -0.22845696}, {0.46507803, 0.94498998}, {-0.92099023, 0.88186467}, {0.56106293, -0.80125779}, {-0.64151001, 0.68144286}, {0.26143909, 0.04135379}, {-0.60230124, -0.86368674}, {-0.12795487, 0.38760081}, {0.87176162, 0.61227357}, {-0.08626448, 0.97174567}, {0.28288090, -0.94197774}, {0.68944263, 0.59835714}, {0.45359829, -0.84068352}, {0.57278949, -0.09755499}, {-0.42916277, 0.14701442}, {-0.40085307, -0.46468863}, {-0.03441962, 0.04287035}, {-0.43978116, 0.04129520}, {0.32773465, -0.36141005}, {0.48032695, 0.25545803}, {-0.87191641, -0.97645938}, {-0.93103653, -0.73343462}, {-0.10415211, 0.60573655}, {0.73617506, -0.79462969}, {0.79360062, -0.71296030}, {0.27931297, -0.33297473}, {-0.54320186, 0.38839263}, {-0.21304455, -0.13154955}, {-0.88572103, 0.89400309}, {-0.77181882, -0.69137681}, {0.95344090, -0.49655387}, {-0.15938847, 0.62817371}, {0.12480575, 0.62091452}, {0.14096361, 0.03651496}, {-0.27396679, -0.09473464}, {-0.63654846, -0.22236077}, {0.82536882, -0.44228065}, {0.69517618, 0.30837235}, {-0.06493975, 0.41110963}, {-0.29300827, 0.38287425}, {-0.25396726, 0.89722937}, {-0.73553413, 0.37495825}, {-0.97962064, 0.86823153}, {0.46262473, 0.91476303}, {0.46639845, 0.62662321}, {0.30765238, 0.97981942}, {0.79768693, 0.14933985}, {-0.09477341, 0.85306776}, {0.86313730, -0.45340177}, {-0.44856432, 0.50113112}, {-0.12356821, -0.48286465}, {-0.05491140, -0.81920439}, {-0.63395035, -0.52218610}, {0.28323880, -0.73522657}, {-0.86990225, 0.00931146}, {-0.72678560, 0.71141189}, {-0.69120061, 0.74803448}, {0.62869948, -0.73010123}, {0.35083055, 0.66646206}, {0.60282171, -0.57394248}, {-0.07901826, 0.18432333}, {-0.04509188, 0.16328454}, {0.51477098, 0.73306280}, {-0.50361347, -0.07117985}, {0.66999483, 0.35972387}, {0.81876194, 0.45693535}, {0.60572600, 0.83667094}, {0.80571926, -0.87716138}, {0.10020807, -0.22442015}, {-0.17730656, 0.63178152}, {-0.99816722, 0.18833973}, {0.19486424, 0.09318084}, {0.35158485, -0.44024161}, {-0.87671202, -0.58924878}, {0.82799155, -0.22313988}, {-0.51419801, -0.54262024}, {-0.94848394, -0.37223241}, {-0.59242976, -0.68546057}, {-0.09888389, -0.40192443}, {0.69801766, -0.12632869}, {-0.15296701, 0.22547811}, {0.09160434, 0.20037667}, {-0.77876753, 0.18813396}, {-0.24912389, -0.07143494}, {0.93213600, 0.65416658}, {-0.90432227, 0.00585642}, {-0.36392313, 0.58456951}, {-0.34635153, 0.56619442}, {0.48915884, 0.10209524}, {-0.58456975, 0.96718490}, {0.41322765, -0.73185718}, {0.09922448, 0.84881634}, {-0.63250023, -0.06735357}, {0.53534013, -0.30744928}, {0.00777916, -0.35464644}, {0.08113526, 0.26628971}, {-0.41595188, -0.74696773}, {0.95889330, 0.62414593}, {0.85421950, 0.74876678}, {0.74835485, -0.36975563}, {-0.37261137, -0.46147653}, {-0.83843118, 0.00336787}, {-0.88577437, -0.89218867}, {-0.18525913, -0.22240639}, {-0.41865611, -0.91945654}, {-0.42590305, -0.14734289}, {-0.35112435, 0.01002534}, {-0.01102463, -0.79023147}, {-0.53081471, -0.85261106}, {0.03301076, 0.58009124}, {-0.48470256, 0.69633359}, {-0.72670829, -0.49063155}, {0.27281871, 0.40933293}, {0.54855537, -0.49739021}, {0.76209134, -0.01765094}, {0.75095546, 0.53934902}, {-0.28065187, 0.96209037}, {-0.28571621, 0.39499697}, {-0.64704269, -0.03119304}, {-0.95262802, -0.34067544}, {-0.35580584, 0.35804379}, {-0.23968919, -0.60389674}, {0.93523163, 0.40633529}, {-0.06700024, -0.02719781}, {-0.22174846, 0.83327317}, {0.28568661, 0.64859504}, {0.57211828, 0.02233437}, {0.17130308, -0.60290664}, {-0.56970233, -0.60694146}, {0.73323512, -0.89002955}, {-0.59312564, -0.40318528}, {-0.64235032, -0.43736997}, {0.26041457, 0.72347873}, {-0.69862080, 0.90151888}, {0.34156397, -0.50394070}, {0.07122206, -0.81398046}, {0.21591742, 0.90789461}, {0.39993975, -0.55855495}, {-0.72933590, 0.47629020}, {0.45966351, -0.79644310}, {-0.75509763, -0.86935222}, {-0.95073462, 0.05331329}, {-0.84596413, 0.23511218}, {-0.08174794, 0.18428659}, {0.27093622, -0.77485007}, {0.14717321, -0.46279281}, {0.04511940, -0.36662313}, {0.09454446, -0.91552550}, {0.94041318, -0.04989978}, {-0.57703668, 0.14274347}, {-0.26326501, 0.58445275}, {-0.26017812, 0.06741282}, {0.87147743, 0.62210023}, {0.18617599, -0.63557631}, {0.07402974, 0.00313902}, {-0.40892652, -0.98099005}, {-0.43858039, 0.04402226}, {-0.75687695, -0.13543421}, {-0.52099335, -0.59619331}, {-0.38811165, -0.70503610}, {0.11851212, 0.30580625}, {0.78732127, -0.11304460}, {-0.06792892, 0.29485768}, {-0.16650598, 0.01327413}, {0.84494954, -0.30578414}, {0.55838704, 0.37006837}, {-0.20530467, 0.17038175}, {0.04635403, -0.54194540}, {0.08488184, 0.88707536}, {0.06352132, -0.82234001}, {0.90048546, -0.95346147}, {0.15018773, 0.54539001}, {0.21443997, 0.26945925}, {0.07531088, -0.30540192}, {0.86648262, 0.57279813}, {0.50614238, 0.06481494}, {0.50079560, -0.81757665}, {-0.72445261, 0.35454375}, {-0.33196732, 0.34667873}, {0.05109538, -0.43894705}, {0.80261362, 0.53908718}, {0.86631072, 0.33178642}, {0.96494097, 0.90620214}, {0.34487188, 0.62777394}, {-0.53526074, -0.99425095}, {0.51247543, 0.23711403}, {0.44166696, -0.13994126}, {0.26890737, -0.31070819}, {0.88771558, -0.27637276}, {-0.34962809, -0.82400602}, {-0.66404748, -0.24580146}, {0.74414766, -0.14975886}, {-0.43427268, 0.55027252}, {0.98803383, -0.26957107}, {-0.50415641, -0.75804198}, {-0.87564474, 0.77673405}, {-0.45680624, 0.53894556}, {0.99879146, 0.70465165}, {0.98751414, -0.62313211}, {-0.65109354, 0.25826812}, {-0.05780778, 0.55991244}, {0.03034056, 0.23310450}, {-0.85064650, -0.21066378}, {0.67929727, -0.77658784}, {0.35788432, -0.95168346}, {0.92006695, 0.23250766}, {-0.27568391, -0.19599763}, {-0.73451990, 0.09694786}, {0.23973969, -0.87620842}, {0.53429508, 0.62378567}, {0.76878691, -0.30758128}, {0.76228034, -0.62566382}, {-0.84632474, 0.50974733}, {-0.88770783, -0.74631077}, {0.26695585, -0.67586619}, {-0.58002263, -0.73801225}, {0.50549024, 0.10828686}, {-0.22119436, -0.20588405}, {0.34208620, -0.13258016}})},
        outputs = {radio.Float32Type.vector_from_array({0.72043347, 1.11593723, -2.51484251, -1.98919392, 1.57073677, 2.23467350, -1.13719404, -2.55449653, -0.96802795, 0.65887886, -1.20000052, 0.70598185, 0.29467252, -0.19663931, 0.86393195, 3.09679508, 0.20578501, -1.05385029, -2.00824451, 1.68843293, 2.03248644, -1.54101288, -1.92276120, -1.89028299, 1.12025821, 0.80442953, 0.50547588, 2.56330514, -0.80801064, -1.00172675, 2.28827834, 0.57411516, -2.31535888, -2.47562718, -1.92529809, 1.71426380, -2.70847750, -0.28917062, 1.11344743, 2.37789321, -0.95991755, 2.32601905, 0.15687777, -2.17974877, 1.88965225, 0.61229509, 1.65933692, -1.27905941, 0.71478617, -1.07600462, -0.16869688, 2.81156039, -2.28257561, 2.24728918, 3.04796767, -0.83422482, 0.48879549, -2.29969525, -2.47435904, 1.74107420, -0.82356519, -0.73192310, -0.87281621, 2.52086639, -2.58842325, 2.35154104, -2.41111612, -0.48015034, 1.81928539, 1.37243640, 0.25346696, -2.80867434, -2.80552149, -0.49192101, 0.41750956, 1.72746396, 2.22400880, 1.84663773, 2.67015409, 2.41640186, 1.10257387, 0.93095034, 1.26655567, 0.18507369, 1.68143976, -0.48367828, 2.30089974, -1.82132626, -1.63772631, -2.45256567, -1.20307839, 3.13088894, 2.36688375, 2.31672621, -0.85988605, 1.08624673, -0.76086187, 1.97579145, 1.84023619, 0.95858234, -3.00118446, 0.49273422, 0.50902617, 0.94416255, -0.82782495, -1.15084028, 1.84440339, 2.95509958, 0.44604248, -0.89689869, -2.54982948, -0.26324144, -2.32930684, -2.76761198, -2.28352237, -1.81203127, -0.17904404, 2.16688633, 1.14200354, 2.90455508, -2.86234069, 0.61192834, 3.13511682, 2.12763119, 2.11978769, 0.20576204, 2.11444712, -1.05679119, 1.45442700, -3.03550458, -0.52131289, -1.54886484, 1.27504420, -2.07888651, 0.57700932, 0.71970767, -0.45890948, -2.25005317, 3.13757586, -2.35258675, -2.26532364, -1.99807382, -2.80852675, 3.11304832, -1.58474648, -2.12765026, 1.51395154, 2.17888546, -2.54774523, 0.98291194, -0.73651952, -0.02315705, 0.62284786, 1.85463083, 2.19701409, -3.09342122, -2.79814863, 2.35305953, -1.94863105, 0.40986907, -2.75597954, 1.83088577, 1.15589583, 0.03901822, -1.29396319, -2.32455635, -0.88169146, -2.54457760, -2.54380751, 1.22528696, 2.23006725, -0.97513515, -1.48352015, 1.33731163, -0.94939560, 2.56307888, -1.04735124, -2.28597593, 3.08557534, 2.87051177, 1.98830807, -1.23442197, -1.26289868, -1.44834447, -1.46789312, -0.05301183, 2.89908767, 1.99402189, 2.88806534, 0.61995792, -1.28584325, 0.04237676, -1.96574438, 3.04155326, -2.96452832, -2.28898406, -2.07401180, 1.20107734, -0.14260665, 1.79722428, 3.06203938, -0.34723333, 0.58528292, 2.44888568, -1.48547137, 1.47539949, -1.49370480, -0.81396508, 1.30207992, 0.89861184, -1.32902408, 0.58411193, 0.12736356, -1.02120972, 2.68646479, 2.33452034, -1.45491338, 0.59145474, 0.36575520, 0.75401652, 1.06844711, -2.06465578, 0.43335149, -0.30684105, -0.85739172, -0.30181891, -1.97207630, -2.78707504, -0.19859609, 2.23891449, -0.26635313, -2.15769768, 2.41598272, 2.27389097, 0.61441058, -0.56291002, 2.76396179, 1.67367613, 1.44136536, -2.89882565, -0.85212469, -1.21110201, 0.24752511, -2.52355504, 3.01036310, -1.30372250, 0.86251986, -0.38058096, -0.68728334, 2.59947848, -2.44251275, -1.19462216, -2.23689604, 0.21103190, -2.39202809, -0.36973959})}
    },
}, {epsilon = 1.0e-06})
